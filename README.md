# 게시글 추천 알고리즘 테스트 라이브러리

## 이 라이브러리를 구상하게 된 이유

현제 내가 만들고 있는 앱에 게시글 추천 기능이 있다.

다양한 요소(조회수, 좋아요수, 싫어요수, 게시글 퀄리티, 댓글수, 생성일)를 바탕으로 최종 스코어를 매겨 정렬을 하는 방식으로 만들었는데 문제는 이러한 게시글 추천 기능이 과연 얼마나 잘 작동하는지를 평가할 수 없다는 것이다.

추천 알고리즘을 평가하는 것이 힘든 이유는 사람마다 추천에 대한 만족도 기준도 주관적이고 절대적인 정답이 없는 기능이기 때문이다.(정성 지표)

앱 이용자들이나, 테스트 유저들을 모집하여 피드백을 받고 얻은 데이터를 통해 추천 기능을 평가하고 개선하는 것이 제일 좋겠지만 개발중인 앱이거나 이러한 여건이 되지 않는 앱이라면 이러한 방식은 도입하는 것은 불가능하다.

마침 앱 이용자들이나, 테스트 유저들을 대신해줄 ai가 있기 떄문에 처음에는 아주 단순하게 ai에게 대신 시키면 되겠다라는 생각으로 이 라이브러리르 만들게 되었다.

도중 그냥 ai한테 추천을 시키면 되는거 아니야? 라고 생각을 했지만 단순 ai를 사용한 추천에는 여러 단점이 존재한다.

- 만약 시중Llm을 쓴다면 내가 가지고 있는 전체 데이터를 바탕으로 학습시켜 놓고 추천할때마다 api호출해야 되기 때문에 사용자 경험, 비용 문제등의 이유로 불가능하다.
- 직접 작은 ai 모델을 만들어 학습을 한다고 하더라도 개발 단계의 앱에서는 모델학습에 필요한 데이터 수는 현실적으로 얻기 힘들 것이다.
- 초기 목표가 가벼운 수식적인 추천 알고리즘을 테스트하는 것이기 떄문에 초기 목표와는 거리가 있다.

## 구체적인 로직은 아래와 같다.

1. ai를 이용한 추천이 아니라 기존 추천 알고리즘을 ai로 테스트하는 것이기 떄문에

   조회수, 좋아요수, 싫어요수, 게시글 내용, 댓글수, 생성일을 X

   X에 대해 ai가 판단한 스코어를 Y로하는 라벨링된 데이터를 무작위로 생성 ai를 통해 만든다.

   (기존에는 이러한 라벨링된 데이터를 앱 이용자들이나, 테스트 유저들로 부터 만들었지만 이를 ai로 대체한것)

2. 라벨링된 데이터를 바탕으로 추천 알고리즘을 실행시켜 자체 추천 알고리즘의 판단 값과 데이터의 Y값의 차이를 cost로 설정하여(2주의 기한밖에 없기 떄문에 단순 MSE을 적용) 추천 알고리즘을 평가한다.
3. 시간이 된다면 대부분의 추천 알고리즘들은 가중치(상수값)들이 많을텐데 그리드 서치 전략들을 추가적으로 적용할 수 있게하여 같은 추천 모델 내에서도 최적의 가중치를 찾을 수 있게 여러 전략들을 만든다.

## **한계점**

과연 llm이 만든 라벨링된 데이터의 정답이 실제 유저들의 판단이랑 얼마나 큰 오차가 발생할지 알 수 없다.

이를 최대한 프롬프트를 잘짜 간격을 매우는게 중요할 것이다.

## 구현 단계는 아래와 같다.

1. 라벨링된 데이터, 추천 알고리즘을 입력으로 하여 라벨링된 데이터 대비 알고리즘의 성능를 출력으로 하는 평가기(Evaluator)컴포넌트를 만든다.
2. 라벨링 데이터를 만드는 생성기(Generator)컴포넌트를 만든다.
3. 전체적인 플로우(데이터 생성을 요청하고 데이터를 저장, 저장된 데이터, 추천 알고리즘 로직을 받아 평가기를 실행)를 진행하는 client 컴포넌트를 만든다.
4. 추가적으로 client 컴포넌트에 여러 전략들을 구현한다.

## 세부 구현 사항

주제가 단순 게시글에 국한되지 않고 제러럴하게 만들면 좋겠지만 2주간의 시간 제약이 있기 떄문에 게시글 평가에 국한되게 설계한다.